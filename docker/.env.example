# ╔═══════════════════════════════════════════════════════════╗
# ║              ClaudePantheon - Environment Config          ║
# ╚═══════════════════════════════════════════════════════════╝
#
# Copy this file to .env and configure for your system.
# These variables are read by docker-compose.yml at startup.
#
# SETUP:
#   cp .env.example .env
#   nano .env  # or your preferred editor
#
# After changes, restart the container:
#   make restart  # or: docker compose restart

# ─────────────────────────────────────────────────────────────
# DATA STORAGE
# ─────────────────────────────────────────────────────────────

# Where all persistent data is stored on the host
# This directory will contain: workspace, sessions, ssh keys, etc.
# Default: /docker/appdata/claudepantheon
CLAUDE_DATA_PATH=/docker/appdata/claudepantheon

# ─────────────────────────────────────────────────────────────
# USER MAPPING
# ─────────────────────────────────────────────────────────────

# Match these to your host user for seamless file permissions
# Find your IDs: run `id -u` and `id -g` on the host
PUID=1000
PGID=1000

# ─────────────────────────────────────────────────────────────
# AUTHENTICATION (Two-Zone System)
# ─────────────────────────────────────────────────────────────
#
# ClaudePantheon uses two authentication zones:
#
#   INTERNAL ZONE: /terminal/, /files/, /webdav/
#     - Protected by INTERNAL_AUTH + INTERNAL_CREDENTIAL
#     - These are the "real" services (terminal, file manager, webdav)
#
#   WEBROOT ZONE: / (landing page and custom PHP apps)
#     - Protected by WEBROOT_AUTH + WEBROOT_CREDENTIAL
#     - Can be public while internal services are protected
#
# COMMON CONFIGURATIONS:
#
#   1. No authentication (development only, trusted networks):
#      INTERNAL_AUTH=false
#      WEBROOT_AUTH=false
#
#   2. Protect everything with same credentials:
#      INTERNAL_AUTH=true
#      INTERNAL_CREDENTIAL=admin:secretpassword
#      WEBROOT_AUTH=true
#      # WEBROOT_CREDENTIAL not set = uses INTERNAL_CREDENTIAL
#
#   3. Public landing page, protected services:
#      INTERNAL_AUTH=true
#      INTERNAL_CREDENTIAL=admin:secretpassword
#      WEBROOT_AUTH=false
#
#   4. Different credentials for each zone:
#      INTERNAL_AUTH=true
#      INTERNAL_CREDENTIAL=admin:secretpassword
#      WEBROOT_AUTH=true
#      WEBROOT_CREDENTIAL=guest:guestpassword

# Internal zone authentication (terminal, files, webdav)
INTERNAL_AUTH=false
INTERNAL_CREDENTIAL=

# Webroot zone authentication (landing page, custom apps)
# If enabled without WEBROOT_CREDENTIAL, uses INTERNAL_CREDENTIAL
WEBROOT_AUTH=false
WEBROOT_CREDENTIAL=

# Backward compatibility: TTYD_CREDENTIAL maps to INTERNAL_CREDENTIAL
# You can use either; INTERNAL_CREDENTIAL takes precedence if both set
TTYD_CREDENTIAL=

# ─────────────────────────────────────────────────────────────
# FEATURE TOGGLES
# ─────────────────────────────────────────────────────────────

# Enable FileBrowser file manager at /files/
# Values: true | false
ENABLE_FILEBROWSER=true

# Enable WebDAV endpoint at /webdav/
# Mount as network drive from any WebDAV client
# Values: true | false
ENABLE_WEBDAV=false

# ─────────────────────────────────────────────────────────────
# CLAUDE CODE SETTINGS
# ─────────────────────────────────────────────────────────────

# Claude API key (optional - you can also authenticate via browser)
# Get your key: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# Bypass permission prompts (DANGEROUS - Claude can execute without asking)
# Only enable if you trust Claude to run commands without confirmation
# This adds --dangerously-skip-permissions to all claude commands
# Values: true | false
CLAUDE_BYPASS_PERMISSIONS=false

# ─────────────────────────────────────────────────────────────
# OPTIONAL FEATURES
# ─────────────────────────────────────────────────────────────

# Enable SSH server inside container
# Values: true | false (only "true" enables SSH)
# Connect via: ssh -p 2222 claude@localhost
ENABLE_SSH=false

# Enable logging to data/logs/claudepantheon.log
# Useful for debugging; logs auto-rotate at 10MB
# Values: true | false
LOG_TO_FILE=false

# ─────────────────────────────────────────────────────────────
# REMOTE FILESYSTEMS (rclone)
# ─────────────────────────────────────────────────────────────

# Enable rclone remote filesystem mounting (S3, Google Drive, SFTP, SMB, etc.)
# IMPORTANT: Also requires FUSE support in docker-compose.yml:
#   1. Uncomment devices: [/dev/fuse]
#   2. Uncomment cap_add: [SYS_ADMIN]
#   3. Uncomment apparmor:unconfined in security_opt
# Then rebuild: make rebuild
# Manage remotes inside container: cc-rmount
# Values: true | false
ENABLE_RCLONE=false

# ─────────────────────────────────────────────────────────────
# SYSTEM SETTINGS
# ─────────────────────────────────────────────────────────────

# Timezone (affects timestamps in logs and shell)
# List: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=UTC

# Container memory limit
# Increase for heavy usage (large codebases, multiple MCP servers)
# Format: number + unit (e.g., 4G, 8G, 512M)
MEMORY_LIMIT=4G
